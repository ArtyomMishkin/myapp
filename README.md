# Практическое задание 2

## ЭФМО-02-25 Мишкин Артём Дмитриевич
---
# Информация о проекте

myapp - веб-сервер, который 

1) Демонстрирует организацию кода по стандартным для Go-сообщества директориям: cmd/, internal/, utils/ 

2) Отвечает на запросы по нескольким маршрутам и включает в себя логирование, обработку ошибок и промежуточное ПО (middleware).

# Цели  практической работы

-	Понять назначение ключевых директорий (cmd/, internal/, pkg/ и др.).
-	Научиться раскладывать код и артефакты проекта по «правильным» местам.
-	Собрать минимальный скелет проекта и запустить «пустой» main.go.

# Файловая структура проекта:

<img width="355" height="570" alt="image" src="https://github.com/user-attachments/assets/8d3f8824-0d19-4044-9314-10712f78da16" />

# Примечания по конфигурации и требования

Для запуска требуется:

Go: версия 1.25.1

Git: версия 2.38.1

# Команды запуска/сборки
Для запуска Helloapi нужно выполнить 4 шага:
## 1) Клонировать данный репозиторий в удобную для вас папку:
```Powershell
git clone https://github.com/ArtyomMishkin/myapp
```
## 2) Перейти в папку helloapi:
```Powershell
cd myapp
```
## 3) Загрузка зависимостей:
```Powershell
go mod tidy
```
## 4) Команда запуска
```Powershell
go run ./cmd/myapp/main.go
```

# Команда сборки
Для сборки бинарника и запуска .exe файла используются данные программы

```Powershell
go build -o myapp.exe ./cmd/myapp
.\myapp.exe
```
# Проверка работоспособности веб-сервиса

## Проверка "запуск сервера"

```Powershell
go run ./cmd/myapp/main.go
```

<img width="672" height="58" alt="image" src="https://github.com/user-attachments/assets/da2c622b-e90a-46b0-a7ee-55e3321168b3" />

## Проверка "пустота"

```Powershell
curl http://localhost:8080/
```

<img width="974" height="415" alt="image" src="https://github.com/user-attachments/assets/b0acd6eb-e06c-4bd5-86c9-68e64a802022" />



## Проверка "пинг"

```Powershell
curl http://localhost:8080/ping
```

<img width="974" height="417" alt="image" src="https://github.com/user-attachments/assets/f8c3cc68-b88d-4ae0-894f-85883b2a9ff6" />

## Проверка "пинг с id demo-123"

```Powershell
Invoke-WebRequest -Uri http://localhost:8080/ping -Headers @{"X-Request-Id" = "demo-123"}
```

<img width="974" height="417" alt="image" src="https://github.com/user-attachments/assets/dc97b3d5-7b4f-4441-bb20-ba233e715164" />


## Проверка "неудачный запрос"

```Powershell
Invoke-WebRequest -Uri http://localhost:8080/ping -Headers @{"X-Request-Id" = "demo-123"}
```
<img width="974" height="413" alt="image" src="https://github.com/user-attachments/assets/19cd5f32-d135-43d0-b513-6f3d2e314eb9" />

# Список из 5 артефактов и папок, куда бы я их положили и почему 

## 1. Основной исполняемый файл → /cmd/myapp/main.go

Обоснование: Главный файл приложения расположен в директории cmd/myapp/, что соответствует стандартной практике Go-проектов. Это позволяет четко отделить точку входа от остальной логики приложения и упрощает процесс сборки бинарного файла.

## 2. Ядро приложения → /internal/app/app.go

Обоснование: Основная бизнес-логика сервера вынесена в пакет internal/app/, что обеспечивает инкапсуляцию и предотвращает нежелательный импорт этого кода извне. Здесь сосредоточена инициализация HTTP-сервера и маршрутизация.

## 3. Обработчики HTTP-запросов → /internal/app/handlers/ping.go

Обоснование: Хендлеры выделены в отдельный пакет internal/app/handlers/, что следует принципу разделения ответственности. Каждый файл отвечает за определенную группу endpoint'ов, улучшая читаемость и поддерживаемость кода.

## 4. Логирование запросов → /utils/logger.go

Обоснование: Функции логирования вынесены в отдельный пакет utils/, что позволяет централизованно управлять выводом диагностической информации. Такой подход облегчает повторное использование кода и единообразие формата логов.

## 5. JSON-утилиты → /utils/httpjson.go

Обоснование: Вспомогательные функции для работы с JSON размещены в отдельном файле, находящимся вместе с logger.go, так как они оба отвечают за второстепенную задачи(в данном случае - форматирование JSON ответа). 
